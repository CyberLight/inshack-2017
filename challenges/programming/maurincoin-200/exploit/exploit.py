#!/usr/bin/python3

import requests

url = "https://maurincoin.insecurity-insa.fr"

def solveKnapReal(items,scoreMin,size):
    knap=[[0,[]] for i in range(size+1)]
    for itemIndex,item in enumerate(items):
        score,weight=item
        for i in range(size-weight,-1,-1):
            if knap[i][0]+score>knap[i+weight][0]:
                knap[i+weight][0]=knap[i][0]+score
                knap[i+weight][1]=knap[i][1]+[itemIndex]
    return knap[-1][1]
    
def alive():
	return 'status' in requests.post(url + '/coin',json={}).json()

def exploitable():
    req=requests.get(url + '/task').json()
    selected=solveKnapReal(req['items'],req['scoreMin'],req['size'])
    req['selected']=selected
    coin=requests.post(url + '/coin',json=req).json()
    return coin['boulicoin'].startswith('INSA{')


if __name__ == "__main__":
    print(alive() and exploitable())
